(this["webpackJsonpclient-new"]=this["webpackJsonpclient-new"]||[]).push([[0],{175:function(e,t,c){},184:function(e,t,c){},187:function(e,t){},189:function(e,t){},222:function(e,t){},224:function(e,t){},225:function(e,t){},230:function(e,t){},232:function(e,t){},252:function(e,t){},268:function(e,t){},271:function(e,t){},315:function(e,t,c){},317:function(e,t,c){},318:function(e,t,c){},319:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),i=c(165),o=c.n(i),a=c(166),l=c(38),r=c(50),j=c(112),d=(c(175),c(323)),b=c.p+"static/media/logo.3917f6ee.png",h=c(1);var m=function(){const e=window.localStorage.getItem("token"),[t,c]=Object(s.useState)("");return e&&d.a.get("http://localhost:2248/user/",{headers:{"x-access-token":localStorage.getItem("token")}}).then((e=>{c(e.data)})),Object(h.jsx)(r.a,{expand:"lg",className:"bg-body-tertiary",children:Object(h.jsxs)(a.a,{children:[Object(h.jsxs)(r.a.Brand,{href:"/",className:"d-flex align-items-center",children:[Object(h.jsx)("img",{src:b,alt:"logo",width:"30",height:"50",className:"d-inline-block align-text-top"})," ","AthenaDesk"]}),Object(h.jsx)(r.a.Toggle,{}),Object(h.jsx)(r.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(l.a,{className:"me-auto",children:[Object(h.jsx)(l.a.Link,{href:"/",children:"Dashboard"}),Object(h.jsx)(l.a.Link,{href:"/createticket",children:"Create Ticket"})]})}),Object(h.jsx)(r.a.Collapse,{className:"justify-content-end",children:Object(h.jsxs)(l.a,{className:"me-2",children:[Object(h.jsx)(l.a.Link,{href:"/login",style:{visibility:e?"hidden":"visible"},children:"Sign-in"}),Object(h.jsx)(l.a.Link,{href:"/register",style:{visibility:e?"hidden":"visible"},children:"Sign-up"}),Object(h.jsx)(j.a,{title:t,id:"basic-nav-dropdown",style:{visibility:e?"visible":"hidden"},children:Object(h.jsx)(j.a.Item,{onClick:()=>{window.localStorage.clear(),window.location.reload()},children:"Logout"})})]})})]})})},O=(c(184),c(4));c(111);var u=function(){const[e,t]=Object(s.useState)("");Object(s.useEffect)((()=>{d.a.get("http://localhost:2248/user/",{headers:{"x-access-token":localStorage.getItem("token")}}).then((e=>{t(e.data)}))}),[]),console.log(e);const c=Object(O.o)();var[n,i]=Object(s.useState)(),[o,a]=Object(s.useState)(),[l,r]=Object(s.useState)(),[j,b]=Object(s.useState)();const m={creator:e,subject:n,priority:o,description:l,asignee:j};var[u,p]=Object(s.useState)([]);Object(s.useEffect)((()=>{d.a.get("http://localhost:2248/users/").then((e=>p(e.data)))}),[]);return Object(h.jsx)("div",{id:"form",children:Object(h.jsxs)("form",{onSubmit:()=>{d.a.post("http://localhost:2248/uploadTicket",m).then((()=>{c("/")}))},children:[Object(h.jsx)("h3",{children:"Create Issue"}),Object(h.jsxs)("div",{class:"form-group mb-3",children:[Object(h.jsx)("label",{for:"subject",children:"Subject"}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"subject",name:"subject",placeholder:"Enter subject",onChange:e=>{i(e.target.value)}})]}),Object(h.jsxs)("div",{class:"form-group mb-3",children:[Object(h.jsx)("label",{for:"priority",children:"Priority"}),Object(h.jsxs)("select",{onChange:e=>{a(e.target.value)},class:"form-control",id:"priority",children:[Object(h.jsx)("option",{default:!0,children:"Choose..."},"o1"),Object(h.jsx)("option",{children:"High"},"o1"),Object(h.jsx)("option",{children:"Medium"},"o2"),Object(h.jsx)("option",{children:"Low"},"o3")]})]}),Object(h.jsxs)("div",{class:"form-group mb-3",children:[Object(h.jsx)("label",{for:"description",children:"Description"}),Object(h.jsx)("textarea",{onChange:e=>{r(e.target.value)},class:"form-control",id:"description",rows:"3"})]}),Object(h.jsxs)("div",{class:"form-group mb-3",children:[Object(h.jsx)("label",{for:"asignee",children:"Asignee"}),Object(h.jsxs)("select",{onChange:e=>{b(e.target.value)},class:"form-control",id:"asignee",children:[Object(h.jsx)("option",{default:!0,children:"Choose..."},"o1"),u.map((e=>Object(h.jsx)("option",{value:e.name,children:e.name},e._id)))]})]}),Object(h.jsx)("div",{className:"d-grid",children:Object(h.jsx)("button",{type:"submit",id:"submit",className:"btn btn-primary",children:"Submit"})})]})})},p=c(42),x=c(167),g=c(111),f=c.n(g);c(315);var v=function(){window.onload=function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())};const e=Object(O.o)();var[t,c]=Object(s.useState)([]);return Object(s.useEffect)((()=>{const t=localStorage.getItem("token");if(t){f.a.decode(t)?fetch("http://localhost:2248/tickets/",{headers:{"x-access-token":localStorage.getItem("token")}}).then((e=>e.json())).then((e=>c(e))):(localStorage.removeItem("token"),e("/login",{replace:!0}))}}),[]),console.log(t),Object(h.jsx)("div",{id:"home",children:Object(h.jsxs)(x.a,{children:[Object(h.jsx)("h1",{children:"Issues"}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Creator"}),Object(h.jsx)("th",{children:"Subject"}),Object(h.jsx)("th",{children:"Priority"}),Object(h.jsx)("th",{children:"Description"}),Object(h.jsx)("th",{children:"Asignee"})]}),t.map((e=>Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.creator}),Object(h.jsx)("td",{children:e.subject}),Object(h.jsx)("td",{children:e.priority}),Object(h.jsx)("td",{children:e.description}),Object(h.jsx)("td",{children:e.asignee})]})))]})})};c(316),c(317);var y=function(){var[e,t]=Object(s.useState)(),[c,n]=Object(s.useState)(),[i,o]=Object(s.useState)();const a=Object(O.o)();return Object(h.jsx)("div",{id:"register",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),fetch("http://localhost:2248/checkIfRegistered",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:e})}).then((e=>e.json())).then((t=>{"yes"===t?(document.getElementById("form").reset(),document.getElementById("email-exists").style.visibility="visible"):(fetch("http://localhost:2248/register/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:e,email:c,password:i})}).then((e=>{a("/login")})),a("/login"))}))},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"name",children:"Full Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",onChange:e=>t(e.target.value),id:"name","aria-describedby":"name",placeholder:"Enter full name"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:e=>n(e.target.value),"aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",onChange:e=>o(e.target.value),id:"password",placeholder:"Password"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(h.jsxs)("p",{children:["Already registered? ",Object(h.jsx)("a",{href:"/login",children:"Login"})]})]})})};c(318);var S=function(){var e=Object(O.o)();const t=window.localStorage.getItem("token");console.log(t),t&&e("/");var[c,n]=Object(s.useState)(),[i,o]=Object(s.useState)();return Object(h.jsx)("div",{id:"login",children:Object(h.jsxs)("form",{className:"Login",onSubmit:function(t){t.preventDefault(),fetch("http://localhost:2248/login/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:c,password:i}),mode:"cors",credentials:"include"}).then((e=>e.json())).then((t=>{console.log(t),t.token?(localStorage.setItem("token",t.token),alert("Login Successful"),e("/")):document.getElementById("err").style.visibility="visible"}))},children:[Object(h.jsx)("h3",{children:"Sign In"}),Object(h.jsx)("p",{id:"err",className:"text-danger",style:{visibility:"hidden"},children:"Details provided seem to be incorrect"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Email address"}),Object(h.jsx)("input",{required:!0,onChange:e=>{n(e.target.value)},type:"email",className:"form-control",placeholder:"Enter email"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{required:!0,onChange:e=>{o(e.target.value)},type:"password",className:"form-control",placeholder:"Enter password"})]}),Object(h.jsx)("div",{className:"d-grid",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})}),Object(h.jsxs)("p",{className:"forgot-password text-right",children:["No account? ",Object(h.jsx)("a",{href:"/register",children:"Register"})]})]})})};var w=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)(p.a,{children:Object(h.jsxs)(O.c,{children:[Object(h.jsx)(O.a,{path:"/",element:Object(h.jsx)(v,{})}),Object(h.jsx)(O.a,{path:"/register",element:Object(h.jsx)(y,{})}),Object(h.jsx)(O.a,{path:"/login",element:Object(h.jsx)(S,{})}),Object(h.jsx)(O.a,{path:"/createticket",element:Object(h.jsx)(u,{})})]})})]})};o.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(w,{})}))}},[[319,1,2]]]);
//# sourceMappingURL=main.16b521d0.chunk.js.map