{"ast":null,"code":"var _jsxFileName = \"/Users/ranisujith/Desktop/Advaith-S/Stack/MERN/AthenaDesk/client/src/pages/home.page.jsx\";\nimport { useEffect, useState } from \"react\";\nimport Table from \"react-bootstrap/Table\";\nimport jwt from \"jsonwebtoken\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from 'react';\nimport '../styles/home.page.css';\nfunction Home() {\n  const navigate = useNavigate();\n  var [data, setData] = useState([]);\n  const getData = () => {\n    return fetch(`https://athena-desk.vercel.app/tickets/`, {\n      headers: {\n        'x-access-token': localStorage.getItem(\"token\")\n      }\n    }).then(tick => tick.json()).then(data => setData(data));\n  };\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const user = jwt.decode(token);\n      if (!user) {\n        localStorage.removeItem('token');\n        navigate(\"/login\", {\n          replace: true\n        });\n      } else {\n        getData();\n      }\n    }\n  }, []);\n  function run() {\n    try {\n      data.map(v => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 22\n          }\n        }, v.creator), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 22\n          }\n        }, v.subject), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 22\n          }\n        }, v.priority), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 22\n          }\n        }, v.description), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 22\n          }\n        }, v.asignee));\n      });\n    } catch (err) {\n      localStorage.removeItem('token');\n      navigate(\"/login\", {\n        replace: true\n      });\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Issues\"), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Creator\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Subject\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Priority\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Asignee\")), run()));\n}\nexport default Home;","map":{"version":3,"names":["useEffect","useState","Table","jwt","useNavigate","React","Home","navigate","data","setData","getData","fetch","headers","localStorage","getItem","then","tick","json","token","user","decode","removeItem","replace","run","map","v","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","creator","subject","priority","description","asignee","err","id"],"sources":["/Users/ranisujith/Desktop/Advaith-S/Stack/MERN/AthenaDesk/client/src/pages/home.page.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Table from \"react-bootstrap/Table\"\nimport jwt from \"jsonwebtoken\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from 'react'\nimport '../styles/home.page.css'\n\nfunction Home () {\n    const navigate = useNavigate()\n    var [data, setData] = useState([])\n\n    const getData = () => {\n        \n        return fetch(`https://athena-desk.vercel.app/tickets/`, {\n            headers: {\n                'x-access-token': localStorage.getItem(\"token\")\n            }\n        }).then((tick) => tick.json()).then((data) => setData(data))\n    }\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        if(token){\n            const user = jwt.decode(token)\n            if(!user){\n                localStorage.removeItem('token')\n                navigate(\"/login\", {replace: true})\n            } else {\n                getData()\n            }\n         }\n    }, [])\n\n    function run(){\n        try{\n            data.map(v => {\n                return(<tr>\n                     <td>{v.creator}</td>\n                     <td>{v.subject}</td>\n                     <td>{v.priority}</td>\n                     <td>{v.description}</td>\n                     <td>{v.asignee}</td>\n                 </tr>)\n             })\n        }\n        catch(err){\n            localStorage.removeItem('token')\n            navigate(\"/login\", {replace: true})\n        }\n    }\n\n    return(\n        <div id=\"home\">\n        <Table>\n            <h1>Issues</h1>\n            <tr>\n                <th>Creator</th>\n                <th>Subject</th>\n                <th>Priority</th>\n                <th>Description</th>\n                <th>Asignee</th>\n            </tr>\n            {\n                run()\n            }\n        </Table>\n        </div>\n    )\n}\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}