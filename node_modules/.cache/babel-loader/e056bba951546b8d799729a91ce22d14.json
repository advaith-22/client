{"ast":null,"code":"var _jsxFileName = \"/Users/ranisujith/Desktop/Advaith-S/Stack/MERN/AthenaDesk/client/src/pages/home.page.jsx\";\nimport { useEffect, useState } from \"react\";\nimport Table from \"react-bootstrap/Table\";\nimport jwt from \"jsonwebtoken\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from 'react';\nimport '../styles/home.page.css';\nfunction Home() {\n  const navigate = useNavigate();\n  var [data, setData] = useState([]);\n  const getData = () => {\n    return fetch(`https://athena-desk.vercel.app/tickets/`, {\n      headers: {\n        'x-access-token': localStorage.getItem(\"token\")\n      }\n    }).then(tick => tick.json()).then(data => setData(data));\n  };\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const user = jwt.decode(token);\n      if (!user) {\n        localStorage.removeItem('token');\n        navigate(\"/login\", {\n          replace: true\n        });\n      } else {\n        getData();\n      }\n    }\n  }, []);\n  if (data.mes == \"no\") {\n    localStorage.removeItem('token');\n    navigate(\"/login\", {\n      replace: true\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Issues\"), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"Creator\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"Subject\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Priority\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"Asignee\")), data.map(v => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }, v.creator), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, v.subject), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, v.priority), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, v.description), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, v.asignee));\n  })));\n}\nexport default Home;","map":{"version":3,"names":["useEffect","useState","Table","jwt","useNavigate","React","Home","navigate","data","setData","getData","fetch","headers","localStorage","getItem","then","tick","json","token","user","decode","removeItem","replace","mes","createElement","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","v","creator","subject","priority","description","asignee"],"sources":["/Users/ranisujith/Desktop/Advaith-S/Stack/MERN/AthenaDesk/client/src/pages/home.page.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Table from \"react-bootstrap/Table\"\nimport jwt from \"jsonwebtoken\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from 'react'\nimport '../styles/home.page.css'\n\nfunction Home () {\n    const navigate = useNavigate()\n    var [data, setData] = useState([])\n\n    const getData = () => {\n        \n        return fetch(`https://athena-desk.vercel.app/tickets/`, {\n            headers: {\n                'x-access-token': localStorage.getItem(\"token\")\n            }\n        }).then((tick) => tick.json()).then((data) => setData(data))\n    }\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        if(token){\n            const user = jwt.decode(token)\n            if(!user){\n                localStorage.removeItem('token')\n                navigate(\"/login\", {replace: true})\n            } else {\n                getData()\n            }\n         }\n    }, [])\n\n    if(data.mes==\"no\"){\n        localStorage.removeItem('token')\n        navigate(\"/login\", {replace: true})\n    }\n\n\n    return(\n        <div id=\"home\">\n        <Table>\n            <h1>Issues</h1>\n            <tr>\n                <th>Creator</th>\n                <th>Subject</th>\n                <th>Priority</th>\n                <th>Description</th>\n                <th>Asignee</th>\n            </tr>\n            {\n                data.map(v => {\n                   return(<tr>\n                        <td>{v.creator}</td>\n                        <td>{v.subject}</td>\n                        <td>{v.priority}</td>\n                        <td>{v.description}</td>\n                        <td>{v.asignee}</td>\n                    </tr>)\n                })\n            }\n        </Table>\n        </div>\n    )\n}\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}